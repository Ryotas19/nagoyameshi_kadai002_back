(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[637],{310:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var a=s(7876),r=s(4232),l=s(1603),n=s(698);let o=()=>{let{uid:e,token:t}=(0,l.g)(),[s,o]=(0,r.useState)(""),[d,c]=(0,r.useState)(""),[i,u]=(0,r.useState)(""),[p,h]=(0,r.useState)(""),w=(0,l.Zp)(),m=async a=>{if(a.preventDefault(),s!==d)return void h("パスワードが一致しません。");h("");try{await n.A.post("/auth/password/reset/confirm/",{uid:e,token:t,new_password1:s,new_password2:d}),u("パスワードが正常に再設定されました。"),setTimeout(()=>w("/login"),3e3)}catch(e){h("リンクが無効か期限切れです。再度お試しください。")}};return(0,a.jsxs)("div",{className:"container mx-auto px-4 py-12 max-w-md",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-center mb-8",children:"新しいパスワードを設定"}),i?(0,a.jsx)("p",{className:"text-green-500 text-center",children:i}):(0,a.jsxs)("form",{onSubmit:m,className:"bg-white p-8 rounded-lg shadow-lg space-y-6",children:[p&&(0,a.jsx)("p",{className:"text-red-500 text-center",children:p}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-bold mb-1",htmlFor:"new_password1",children:"新しいパスワード"}),(0,a.jsx)("input",{type:"password",id:"new_password1",value:s,onChange:e=>o(e.target.value),className:"w-full p-3 border rounded",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-bold mb-1",htmlFor:"new_password2",children:"新しいパスワード（確認用）"}),(0,a.jsx)("input",{type:"password",id:"new_password2",value:d,onChange:e=>c(e.target.value),className:"w-full p-3 border rounded",required:!0})]}),(0,a.jsx)("button",{type:"submit",className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 rounded-lg",children:"パスワードをリセット"})]})]})}},698:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let a=s(1040).A.create({baseURL:"http://127.0.0.1:8000/api",timeout:5e3,headers:{"Content-Type":"application/json",accept:"application/json"}});a.interceptors.request.use(e=>{let t=localStorage.getItem("authTokens")?JSON.parse(localStorage.getItem("authTokens")):null;return t&&(e.headers.Authorization=`Bearer ${t.access}`),e},e=>Promise.reject(e));let r=a},3703:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/PasswordResetConfirmPage",function(){return s(310)}])},9609:(e,t)=>{"use strict";Object.prototype.toString}},e=>{var t=t=>e(e.s=t);e.O(0,[593,230,40,636,792],()=>t(3703)),_N_E=e.O()}]);